<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head th:replace="~{fragments :: html_head}">
</head>
<body>
	<div class="container text-center" th:replace="~{fragments :: header}">
		
	</div>
	
	<div class="container-fluid">
	
		<div class="row px-4 py-2">

			<div class="col-12">
				
				<div class="alert alert-warning" role="alert" th:text="${message}" th:if="${message != null }"></div>
				
				<form name="f" th:action="@{/home/login}" method="POST">
				
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
									  		
					<div class="row g-3 align-items-center">
						<div class="col-md-6 p-5">
							<figure class="text-center">
								<blockquote class="blockquote">
							    	<p th:text="${loginQuotation != null} ? ${loginQuotation.quote}"></p>
							  	</blockquote>
							  	<figcaption class="blockquote-footer" th:text="${loginQuotation != null} ? ${loginQuotation.author}">
							  	</figcaption>
							</figure>
						</div>
						<div class="col-md-6">	  
							<h4 class="h4 pb-3">Login Form</h4>		
							<div class="row g-3">
								<div class="col-md-11">
							  		<label for="username" class="col-sm-3 col-form-label text-primary">User ID</label>
							    	<input type="text" class="form-control required" id="username" name="username" placeholder="Username" autofocus >
							    </div><div class="col-md-7"></div>
								<div class="col-md-11">
							    	<label for="password" class="col-sm-3 col-form-label text-primary">Password</label>
							    	<input type="password" class="form-control required" id="password" name="password" placeholder="Password">
							    </div><div class="col-md-7"></div>
								<div class="col-md-6">
							    	<button type="submit" class="btn btn-primary" onclick="validate();">Sign-In</button>
							    </div>
								<div class="col-md-5">
									<a class="nav-link" th:href="@{/resetPassword}" sec:authorize="!isAuthenticated()">Forgot Password</a>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	
	<div class="container" th:replace="~{fragments :: footer}">
	</div>
	
	<script type="text/javascript">
		function validate() {
		    if (document.f.username.value == "" && document.f.password.value == "") {
		        alert("Username and password are required");
		        document.f.username.focus();
		        return false;
		    }
		    if (document.f.username.value == "") {
		        alert("Username is required");
		        document.f.username.focus();
		        return false;
		    }
		    if (document.f.password.value == "") {
			alert("Password is required");
			document.f.password.focus();
		        return false;
		    }
		}
	</script>
</body>
</html>