<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: html_head}">
</head>
<body>
	<div class="container text-center" th:replace="~{fragments :: header}">
		
	</div>
	
	<div class="container-fluid">
		
		<div class="row px-4 py-2">

			<div class="col-12 pt-4" th:each="gallery,iterator : ${listGallery}">
				<h4 class="h4 pb-3" th:text="${gallery.title}"></h4>
				<div class="small pb-2" th:text="${#dates.format(gallery.date, 'dd-MM-yyyy')}"></div>
				<div class="pb-3" th:utext="${gallery.description}"></div>
				<div class="row pt-2 pb-4 border border-1 border-dark-subtle bg-light rounded-3" style="max-height: 600px; overflow: scroll;" th:id="${'bootstrap-image-gallery' + iterator.index}">
				    <div class="col-sm-3 p-2 text-center" th:each="obj,iterator : ${gallery.photos}">
				        <a class="lg-item" 
				            th:data-src="@{/home/gallery/photo/download/{id}(id=${obj.id})}">
							<img th:src="@{/home/gallery/photo/download/{id}(id=${obj.id})}"
								class="border rounded rounded-3 img-fluid" th:alt="${obj.fileName}" th:title="${obj.fileName}" />
				        </a>
				    </div>
				</div>
				<script type="text/javascript">
		
					window.lightGallery(document.querySelector("#bootstrap-image-gallery[[${iterator.index}]]"), {
					    selector: '.lg-item',
					    plugins: [
					        lgZoom,
					        lgThumbnail
					    ],
					});
				</script>
			</div>
			
			<div class="col-12 pt-4">
			
				<nav aria-label="Page navigation example" th:if="${totalPages > 0}">
					<ul class="pagination">
						<li class="page-item" th:if="${!firstPage}"><a class="page-link" th:href="@{/home/gallery/list}">First</a></li>
						<li class="page-item" th:if="${!firstPage}"><a class="page-link" th:href="@{/home/gallery/list/previous}">Previous</a></li>
						<li class="page-item"><a class="page-link" th:text="${currentPage + '... of ...' + totalPages}"></a></li>
						<li class="page-item" th:if="${!lastPage}"><a class="page-link" th:href="@{/home/gallery/list/next}">Next</a></li>
						<li class="page-item" th:if="${!lastPage}"><a class="page-link" th:href="@{/home/gallery/list/last}">Last</a></li>
					</ul>
				</nav>
			</div>
		</div>
	</div>
	
	<div class="container" th:replace="~{fragments :: footer}">
	</div>
</body>	
</html>